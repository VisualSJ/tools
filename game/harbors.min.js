define("harbors/Entrance",["./lib/core/define","./lib/core/elements","./lib/elem/node","./lib/tools/inherit","./lib/elem/base/event","./lib/core/event","./lib/core/options","./lib/core/compatible/normal","./lib/elem/base/style","./lib/core/texture","./lib/elem/texture","./lib/core/loop","./lib/elem/block","./lib/draw/canvas","./lib/draw/manager"],function(a){var b=a("./lib/core/define");window.h=b}),define("harbors/lib/core/compatible/normal",[],function(a,b){b.visibleWidth=function(){return document.documentElement.clientWidth},b.visibleHeight=function(){return document.documentElement.clientHeight},b.marginLeft=function(a){return a.offsetParent?arguments.callee(a.offsetParent)+a.offsetLeft:a.offsetLeft},b.marginTop=function(a){return a.offsetParent?arguments.callee(a.offsetParent)+a.offsetTop:a.offsetTop},b.mouseDown="mousedown",b.mouseMove="mousemove",b.mouseIn="mouseover",b.mouseOut="mouseout",b.mouseUp="mouseup",b.touchDown="touchstart",b.touchMove="touchmove",b.touchUp="touchend",b.mouseEvent=function(a){var b={point:[]};if(a.changedTouches){b.x=a.changedTouches[0].clientX,b.y=a.changedTouches[0].clientY;for(var c=0;c<a.changedTouches.length;c++){var d=a.changedTouches[c];b.point.push({x:d.clientX,y:d.clientY})}}else b.x=a.x,b.y=a.y,b.point.push({x:a.x,y:a.y});return b}}),define("harbors/lib/core/define",["./elements","../elem/node","../tools/inherit","../elem/base/event","./event","./options","./compatible/normal","../elem/base/style","./texture","../elem/texture","./loop","../elem/block","../draw/canvas","../draw/manager"],function(a,b,c){const d=a("./elements"),e=a("./options"),f=a("./event"),g=a("../draw/canvas"),h=a("./loop"),i=a("../draw/manager");var j=function(a){var b=a.substr(0,1),c=a.substr(1);switch(b){case"#":return d.idToElem[c];case".":break;case"@":return d.create(c);case"$":}return null},k=[];j.delay=function(a,b){for(var c={time:h.getLine()+b,callback:a},d=k.length,e=0;d>e;e++)if(k[e].time>c.time)return void k.splice(e,0,c);k.push(c)},j.interval=function(a,b){var c=function(){a(),j.interval(a,b)};c.ctor=a,j.delay(c,b)},j.clearDelay=function(a){for(var b=0;b<k.length;b++)if((k[b].callback.ctor||k[b].callback)===a){k.splice(b,1);break}},j.setOption=function(a){a.id&&(e.id=a.id)},j.option=e;var l=document.getElementById(e.id);j.canvas=j("@block"),j.canvas.style.width=l.width,j.canvas.style.height=l.height,j.canvas.cache=l,j.canvas.id="canvas",j.canvas.active=!0,j.adaptive=function(a){null!=a&&(e.adaptive=a);var b={padding:0,margin:0,overflow:"hidden",height:e.system.visibleSize.height+"px",width:e.system.visibleSize.width+"px"};for(var c in b)document.body.style[c]=b[c];var d,f;1===e.adaptive?(l.style.width=e.system.visibleSize.width+"px",l.style.height=e.system.visibleSize.height+"px",d=e.system.visibleSize.width/l.width,f=e.system.visibleSize.height/l.height):2===e.adaptive?(f=d=e.system.visibleSize.width/l.width,l.style.width=e.system.visibleSize.width+"px",l.style.height=l.height*f+"px"):3===e.adaptive?(d=f=e.system.visibleSize.height/l.height,l.style.width=l.width*d+"px",l.style.height=e.system.visibleSize.height+"px"):4===e.adaptive?(d=e.system.visibleSize.width/l.width,f=e.system.visibleSize.height/l.height,f>d?(f=d,l.style.width=e.system.visibleSize.width+"px",l.style.height=l.height*f+"px"):(d=f,l.style.width=l.width*d+"px",l.style.height=e.system.visibleSize.height+"px")):5===e.adaptive&&(d=e.system.visibleSize.width/l.width,f=e.system.visibleSize.height/l.height,d>f?(f=d,l.style.width=e.system.visibleSize.width+"px",l.style.height=l.height*f+"px"):(d=f,l.style.width=l.width*d+"px",l.style.height=e.system.visibleSize.height+"px")),l.changeInit&&l.changeInit(d,f)},h.start(function(){for(;k[0]&&k[0].time<h.getLine();)k.shift().callback();i.parse(j.canvas,g.ctx(l))}),f.init(),c.exports=j}),define("harbors/lib/core/elements",["../elem/node","../tools/inherit","../elem/base/event","./event","./options","./compatible/normal","../elem/base/style","./texture","../elem/texture","./loop","../elem/block"],function(a,b){var c={node:a("../elem/node"),block:a("../elem/block"),texture:a("../elem/texture")};b.idToElem={},b.create=function(a){var d=c[a];if(d){var e="";return d=new d,d.__defineGetter__("id",function(){return e}),d.__defineSetter__("id",function(a){a=a.toString(),""!=e&&b.idToElem[a]&&delete b.idToElem[a],""!==a&&(b.idToElem[a]=d),e=a}),d}return null}}),define("harbors/lib/core/event",["./options","./compatible/normal"],function(a,b){const c=a("./options");var d,e=c.getter,f=[],g=[],h=[],i=function(a,b){this.type=b||"unknown",this.x=(a.x-c.system.margin.left)/c.system.scale.x,this.y=(a.y-c.system.margin.top)/c.system.scale.y},j=function(a,b,c){var d,e=[],f=a.x,g=a.y;for(d=0;d<b.length;d++){var h=b[d];h.active&&h.style.left<f&&h.style.top<g&&f<h.style.left+h.style.width&&g<h.style.top+h.style.height&&e.push(h)}c(e)},k=function(a){var b=new i(e.mouseEvent(a),"touchDown");j(b,f,function(a){for(var c=0;c<a.length&&a[c].touchDown(null,b);c++);})},l=function(a){var b=new i(e.mouseEvent(a),"touchMove");return j(b,g,function(a){for(var c=0;c<a.length&&a[c].touchMove(null,b);c++);}),a&&a.preventDefault?a.preventDefault():window.event.returnValue=!1,!1},m=function(a){var b=new i(e.mouseEvent(a),"touchUp");j(b,h,function(a){for(var c=0;c<a.length&&a[c].touchUp(null,b);c++);})};b.init=function(){d=document.getElementById(c.id),c.system.isMobile?(d.addEventListener(e.touchDown,k),d.addEventListener(e.touchMove,l),d.addEventListener(e.touchUp,m)):(d.addEventListener(e.mouseDown,k),d.addEventListener(e.mouseMove,l),d.addEventListener(e.mouseUp,m))},b.addTouchDown=function(a){for(var b=0;b<f.length;b++)if(a.uniqueNumber>f[b].uniqueNumber)return void f.splice(b,0,a);f.push(a)},b.addTouchMove=function(a){for(var b=0;b<g.length;b++)if(a.uniqueNumber>g[b].uniqueNumber)return void g.splice(b,0,a);g.push(a)},b.addTouchUp=function(a){for(var b=0;b<h.length;b++)if(a.uniqueNumber>h[b].uniqueNumber)return void h.splice(b,0,a);h.push(a)},b.removeTouchDown=function(a){for(var b=0;b<f.length;b++)if(a.uniqueNumber==f[b].uniqueNumber)return void f.splice(b,1)},b.removeTouchMove=function(a){for(var b=0;b<g.length;b++)if(a.uniqueNumber==g[b].uniqueNumber)return void g.splice(b,1)},b.removeTouchUp=function(a){for(var b=0;b<h.length;b++)if(a.uniqueNumber==h[b].uniqueNumber)return void h.splice(b,1)}}),define("harbors/lib/core/loop",["./options","./compatible/normal"],function(a,b){const c=a("./options");var d,e,f,g,h=null,i=0;b.init=function(){e=0,d=1e3/c.fps},b.init(),b.start=function(a){f=new Date;var b=function(){g=new Date,e=g-f,i+=e;var c=e/d;a(c),f=g;var j=new Date,k=j-g;h=k>d?setTimeout(function(){b()},0):setTimeout(function(){b()},d-k)};b()},b.getLine=function(){return i}}),define("harbors/lib/core/options",["./compatible/normal"],function(a,b,c){const d={chrome:"chrome",firefox:"firefox",ie:"ie",opera:"opera",safari:"safari"},e={IOS:"ios",ANDROID:"android",WINDOWS:"windows",MAC:"mac",LINUX:"linux",UNIX:"unix"},f=a("./compatible/normal");c.exports={id:"gameCanvas",fps:60,getter:f,system:{}};var g=c.exports.system,i=navigator.userAgent.toLowerCase(),j=navigator.appVersion.toLowerCase(),k=navigator.platform.toLowerCase(),l="";i.indexOf("msie")>-1||i.indexOf("trident")>-1?(g.name=d.ie,l=i.match(/msie ([\d.]+)/),l?g.version=l[1]:(l=i.match(/rv:([\d.]+)/),g.version=l?l[1]:void 0)):document.getBoxObjectFor?(g.name=d.firefox,g.version=i.match(/firefox\/([\d.]+)/)[1]):window.MessageEvent&&!document.getBoxObjectFor?(g.name=d.chrome,g.version=i.match(/chrome\/([\d.]+)/)[1]):window.opera?(g.name=d.opera,g.version=i.match(/opera.([\d.]+)/)[1]):window.openDatabase&&(g.name=d.safari,g.version=i.match(/version\/([\d.]+)/)[1]),g.language=(navigator.browserLanguage||navigator.language).toLowerCase(),g.isMobile=i.indexOf("mobile")>-1||i.indexOf("android")>-1,i.match(/(ipad|iphone|ipod)/)?g.os=e.IOS:i.indexOf("android")>-1||k.indexOf("android")>-1?g.os=e.ANDROID:j.indexOf("win")>-1?g.os=e.WINDOWS:j.indexOf("mac")>-1?g.os=e.MAC:j.indexOf("x11")>-1?g.os=e.UNIX:j.indexOf("linux")&&(g.os=e.LINUX);var m=null;window.addEventListener("resize",function(){o(),c.exports.adaptive&&(clearTimeout(m),m=setTimeout(h.adaptive,200))}),g.visibleSize={};var n=document.getElementById(c.exports.id);g.canvasSize={},g.scale={},g.margin={};var o=function(a,b){g.canvasSize.width=n.width,g.canvasSize.height=n.height,g.margin.left=f.marginLeft(n),g.margin.top=f.marginTop(n),g.visibleSize.width=f.visibleWidth(),g.visibleSize.height=f.visibleHeight(),c.exports.adaptive?(g.scale.x=a,g.scale.y=b):(g.scale.x=1,g.scale.y=1)};n.changeInit=o,o()}),define("harbors/lib/core/texture",["../elem/texture","../tools/inherit","../elem/base/event","./event","./options","./compatible/normal"],function(a,b){const c=a("../elem/texture");var d={};b.getImageTexture=function(a){return d[a]?d[a]:null},b.createImageTexture=function(a){if(d[a])return d[a];var b=new c(a);return d[a]=b,b}}),define("harbors/lib/debug/info",[],function(){}),define("harbors/lib/draw/canvas",["../core/options","../core/compatible/normal"],function(a,b){a("../core/options");b.init=function(){},b.ctx=function(a){return a.getContext("2d")},b.drawRect=function(a,b,c,d,e,f){f.fillStyle=a,f.fillRect(b,c,d,e)},b.drawLine=function(){},b.drawImage=function(a,b,c,d,e,f,g,h,i,j){j.drawImage(a,b,c,d,e,f,g,h,i)},b.setFont=function(a,b,c,d,e){e.font=a+" "+b+"px "+c,e.textAlign=d||"left"},b.drawFont=function(a,b,c,d,e,f){f.fillStyle=c,a&&f.fillText(a,d,e+b)}}),define("harbors/lib/draw/manager",["./canvas","../core/options","../core/compatible/normal"],function(a,b){const c=a("./canvas");c.init();var d=function(a,b,d,e){c.drawRect(d.storage.backgroundColor,a,b,d.width,d.height,e)},e=function(a,b,d,e){var f=d.storage.backgroundImage.canvas||d.storage.backgroundImage.image;c.drawImage(f,d.backgroundPositionLeft,d.backgroundPositionTop,d.width,d.height,a,b,d.backgroundSizeWidth,d.backgroundSizeHeight,e)},f=function(a,b,d,e,f){var g,h,i=a.length,j=e.width,k=e.fontSize,l=e.storage.align,m=(e.lineHeight-e.fontSize)/2;if(e.storage.width){"right"===l&&(b+=j),"center"===l&&(b+=j/2)}else"right"===l&&(b+=e.storage.innerTextWidth),"center"===l&&(b+=e.storage.innerTextWidth/2);for(g=0;i>g;g++)h=a[g],c.drawFont(h,k,e.color,b,d+g*e.lineHeight+m,f)},g=function(a,b){c.setFont(a.fontStyle,a.fontSize,a.fontFamily,a.align,b)},h=function(a,b){if(a){var c,h,i=a.storage.innerTextArray;if(a.storage.innerTextArray)if(c=[],h=i.length,g(a,b),a.storage.width){var j,k,l,m,n,o,p=a.storage.width;for(j=0,k=0;h>j;j++){l=i[j],m=0;do{for(o=l.length,n=b.measureText(l).width;n>p&&o>1;){var q=p/n*o|0;q===o?o-=1:o=0===q?1:q,l=l.substr(0,o),n=b.measureText(l).width}k++,c.push(l),m+=o,l=i[j].substr(m),o=0}while(l&&""!==l)}a.storage.innerTextRow!==k&&(a.storage.innerTextRow=k)}else{if(!a.storage.innerTextWidth){var r=0;a.storage.innerTextArray.forEach(function(a){var c=b.measureText(a).width;c>r&&(r=c)}),a.storage.innerTextWidth=r}c=a.storage.innerTextArray}var s,t,u=1,v=0;a.storage.rotate||a.storage.scaleX||a.storage.scaleY?(b.save(),s=-a.width/2,t=-a.height/2,u=Math.cos(a.rotate*Math.PI/180)*a.scaleX,v=Math.sin(a.rotate*Math.PI/180)*a.scaleY,b.transform(u,v,-v,u,a.left+a.width/2,a.top+a.height/2)):(s=a.left,t=a.top),a.storage.backgroundImage?e(s,t,a,b):a.storage.backgroundColor&&d(s,t,a,b),a.storage.innerTextArray&&f(c,s,t,a,b),(a.storage.rotate||a.storage.scaleX||a.storage.scaleY)&&b.restore()}};b.parse=function(a,d){if(a.cache){if(a.waitDrawing){a.test,c.ctx(a.cache).clearRect(0,0,a.style.width,a.style.height);for(var e=a.children,f=e.length,g=0;f>g;g++)b.parse(e[g],c.ctx(a.cache));a.waitDrawing=!1}a.parent&&c.drawImage(a.cache,0,0,a.cache.width,a.cache.height,a.style.left,a.style.top,a.cache.width,a.cache.height,d)}else h(a.style,d)},b.ctx=function(a){return a.ctx(a)},b.drawCTX=function(){return c}}),define("harbors/lib/elem/base/event",["../../core/event","../../core/options","../../core/compatible/normal"],function(a,b,c){const d=a("../../core/event");var e=function(){};e.prototype.accessEvent={touchDown:function(a,b){if(this.touchDownEventList||(this.touchDownEventList=[]),b)d.addTouchDown(this),this.touchDownEventList.push(a);else{for(var c=0;c<this.touchDownEventList.length;c++)if(this.touchDownEventList[c]===a){this.touchDownEventList.splice(c,1);break}0===this.touchDownEventList.length&&d.removeTouchDown(this)}},touchMove:function(a,b){if(this.touchMoveEventList||(this.touchMoveEventList=[]),b)d.addTouchMove(this),this.touchMoveEventList.push(a);else{for(var c=0;c<this.touchMoveEventList.length;c++)if(this.touchMoveEventList[c]===a){this.touchMoveEventList.splice(c,1);break}0===this.touchMoveEventList.length&&d.removeTouchMove(this)}},touchUp:function(a,b){if(this.touchUpEventList||(this.touchUpEventList=[]),b)d.addTouchUp(this),this.touchUpEventList.push(a);else{for(var c=0;c<this.touchUpEventList.length;c++)if(this.touchUpEventList[c]===a){this.touchUpEventList.splice(c,1);break}0===this.touchUpEventList.length&&d.removeTouchUp(this)}},load:function(a,b){if(this.loadEventList||(this.loadEventList=[]),b)this.loadEventList.push(a);else for(var c=0;c<this.loadEventList.length;c++)if(this.loadEventList[c]===a){this.loadEventList.splice(c,1);break}}},e.prototype.on=function(a,b){return"string"!=typeof a?(console.error("传入事件名错误"),this):(this.accessEvent[a]&&this.accessEvent[a].call(this,b,!0),this)},e.prototype.off=function(a,b){return"string"!=typeof a?(console.error("传入事件名错误"),this):(this.accessEvent[a]&&this.accessEvent[a].call(this,b,!1),this)},e.prototype.touchDown=function(a,b){return a?(this.on("touchDown",a),this):(this.touchDownEventList&&this.touchDownEventList.forEach(function(a){a(b)}),this)},e.prototype.touchDownEventList=null,e.prototype.touchMove=function(a,b){return a?(this.on("touchMove",a),this):(this.touchMoveEventList&&this.touchMoveEventList.forEach(function(a){a(b)}),this)},e.prototype.touchMoveEventList=null,e.prototype.touchUp=function(a,b){return a?(this.on("touchUp",a),this):(this.touchUpEventList&&this.touchUpEventList.forEach(function(a){a(b)}),this)},e.prototype.touchUpEventList=null,e.prototype.load=function(a){return a?(this.on("load",a),this):(this.loadEventList&&this.loadEventList.forEach(function(a){a()}),this)},e.prototype.loadEventList=null,c.exports=e}),define("harbors/lib/elem/base/style",["../../core/texture","../texture","../../tools/inherit","./event","../../core/event","../../core/options","../../core/compatible/normal"],function(a,b,c){const d=a("../../core/texture");var e=function(a){this.node=a,this.storage={}};e.prototype={constructor:e,get left(){return"center"===this.storage.align?this.storage.left-this.storage.innerTextWidth/2:"right"===this.storage.align?this.storage.left-this.storage.innerTextWidth:this.storage.left||0},set left(a){this.storage.left=a},get top(){return this.storage.top||0},set top(a){this.storage.top=a},get x(){return this.storage.left||0},set x(a){return this.storage.left=a},get y(){return this.storage.top||0},set y(a){this.storage.top=a},get rotate(){return this.storage.rotate||0},set rotate(a){this.storage.rotate=parseFloat(a)},get scale(){return this.storage.scaleX===this.storage.scaleY?this.storage.scaleX||1:this.storage.scaleX||"1 "+this.storage.scaleY||1},set scale(a){var b=a.toString().split(" ");1===b.length?this.storage.scaleX=this.storage.scaleY=b[0]:(this.storage.scaleX=b[0],this.storage.scaleY=b[1])},get scaleX(){return this.storage.scaleX||1},set scaleX(a){this.storage.scaleX=parseFloat(a)},get scaleY(){return this.storage.scaleY||1},set scaleY(a){this.storage.scaleY=parseFloat(a)},get width(){return this.storage.width?this.storage.width:this.storage.backgroundImage?this.storage.backgroundImage.width:this.storage.innerTextWidth?this.storage.innerTextWidth:0},set width(a){this.storage.width=a,this.node.cache&&(this.node.cache.width=a,this.node.waitDrawing=!0,this.node.update())},get height(){return this.storage.height?this.storage.height:this.storage.backgroundImage?this.storage.backgroundImage.height:this.storage.innerTextArray?this.lineHeight*(this.storage.innerTextRow||this.storage.innerTextArray.length)+4:0},set height(a){this.storage.height=a,this.node.cache&&(this.node.cache.height=a,this.node.waitDrawing=!0,this.node.update())},get backgroundColor(){return this.storage.backgroundColor||"#FFF"},set backgroundColor(a){this.storage.backgroundColor=a},get backgroundImage(){return this.storage.backgroundImage},set backgroundImage(a){"string"==typeof a&&(a=d.createImageTexture(a)),a.nodeList.push(this.node),this.storage.backgroundImage=a},get backgroundSize(){return this.backgroundSizeWidth+"px "+this.backgroundSizeHeight+"px"},set backgroundSize(a){var b=a.split(" ");1===b.length?this.backgroundSizeWidth=this.backgroundSizeHeight=b[0]:2===b.length&&(this.backgroundSizeWidth=b[0],this.backgroundSizeHeight=b[1])},get backgroundSizeWidth(){return this.storage.backgroundSizeWidth||this.width},set backgroundSizeWidth(a){this.storage.backgroundSizeWidth=parseInt(a)},get backgroundSizeHeight(){return this.storage.backgroundSizeHeight||this.height},set backgroundSizeHeight(a){this.storage.backgroundSizeHeight=parseInt(a)},get backgroundPosition(){return this.backgroundPositionLeft+"px "+this.backgroundPositionTop+"px"},set backgroundPosition(a){var b=a.split(" ");1===b.length?this.backgroundPositionLeft=this.backgroundPositionTop=b[0]:2===b.length&&(this.backgroundPositionLeft=parseInt(b[0]),this.backgroundPositionTop=parseInt(b[1]))},get backgroundPositionLeft(){return this.storage.backgroundPositionLeft||0},set backgroundPositionLeft(a){this.storage.backgroundPositionLeft=parseInt(a)},get backgroundPositionTop(){return this.storage.backgroundPositionTop||0},set backgroundPositionTop(a){this.storage.backgroundPositionTop=parseInt(a)},get color(){return this.storage.color||"#000"},set color(a){this.storage.color=a},get align(){return this.storage.align||"left"},set align(a){this.storage.align=a},get lineHeight(){return this.storage.lineHeight||this.fontSize},set lineHeight(a){this.storage.lineHeight=parseInt(a)},get font(){return this.fontStyle+" "+this.fontSize+"px "+this.fontFamily},set font(a){var b=a.split(" ");switch(b.length){case 1:this.fontSize=b[0];break;case 2:this.fontStyle=b[0],this.fontSize=b[1];break;case 3:this.fontStyle=b[0],this.fontSize=b[1],this.fontFamily=b[2]}},get fontStyle(){return this.storage.fontStyle||"Normal"},set fontStyle(a){this.storage.fontStyle=a},get fontSize(){return this.storage.fontSize||14},set fontSize(a){this.storage.fontSize=parseInt(a)},get fontFamily(){return this.storage.fontFamily||"Arial"},set fontFamily(a){this.storage.fontFamily=a.toString()}},c.exports=e}),define("harbors/lib/elem/block",["../tools/inherit","./node","./base/event","../core/event","../core/options","../core/compatible/normal","./base/style","../core/texture","./texture","../core/loop"],function(a,b,c){const d=a("../tools/inherit"),e=a("./node");var f=function(){e.call(this),this.cache=document.createElement("canvas"),this.cache.width=this.style.width,this.cache.height=this.style.height,this.waitDrawing=!1,this.children=[]};d(f,e);var g=function(a,b){a.active=b;var c=a.children;if(c)for(var d=0;d<c.length;d++)g(c[d],b)};f.prototype.append=function(a){g(a,!0),a.parent=this;for(var b=0;b<this.children.length;b++)if(this.children[b]===a)return;this.children.push(a),this.waitDrawing=!0,this.update()},f.prototype.remove=function(a){a.parent=this;for(var b=0;b<this.children.length;b++)if(this.children[b]===a){g(a,!1),this.children.splice(b,1);break}this.waitDrawing=!0,this.update()},c.exports=f}),define("harbors/lib/elem/node",["../tools/inherit","./base/event","../core/event","../core/options","../core/compatible/normal","./base/style","../core/texture","./texture","../core/loop"],function(a,b,c){const d=a("../tools/inherit"),e=a("./base/event"),f=a("./base/style"),g=a("../core/loop");var i=0,j=function(){this.uniqueNumber=i++,this.parent=null,this.style=new f(this),this.active=!1};d(j,e);var k=function(a,b){for(var c in b)l(a,c,b[c])},l=function(a,b,c){a.style[b]=c};j.prototype.update=function(){for(var a=this.parent;a&&!a.waitDrawing;)a.waitDrawing=!0,a=a.parent},j.prototype.get=function(a){return this.style[a]},j.prototype.set=function(a,b){switch(arguments.length){case 2:l(this,a,b);break;case 1:k(this,a)}return this.update(),this},j.prototype.text=function(a){return a=a.toString(),this.innerText=a,this.update(),this},j.prototype.to=function(a,b,c,d){var e,f,i=this.style,j={};for(f in a)e=a[f]-i[f],isNaN(e)?console.log("动画不支持设置 "+f+" 属性"):(a[f]=e,j[f]=i[f]);var k=this,l=g.getLine(),m=function(){var e=g.getLine()-l,i=e/b;if(d&&(i=d(i)),k.active){i>=1?(i=1,"function"==typeof c&&c()):h.delay(m,1);for(f in a)k.style[f]=j[f]+a[f]*i;k.update()}};return h.delay(m,1),this},j.prototype.__defineGetter__("innerText",function(){var a=this.style.storage.innerTextArray;return a?a.split("\n"):""}),j.prototype.__defineSetter__("innerText",function(a){this.style.storage.innerTextArray=a?a.toString().split("\n"):void 0,this.style.storage.innerTextWidth=0}),c.exports=j}),define("harbors/lib/elem/texture",["../tools/inherit","./base/event","../core/event","../core/options","../core/compatible/normal"],function(a,b,c){const d=a("../tools/inherit"),e=a("./base/event");var f=function(a){a&&this.setImage(a),this.nodeList=[];var b=this;this.on("load",function(){b.width=b.image.width,b.height=b.image.height,b.loaded=!0,b.nodeList.forEach(function(a){a.update()})})};d(f,e),f.prototype.loaded=!1,f.prototype.imagePath="",f.prototype.image=null,f.prototype.width=0,f.prototype.height=0,f.prototype.setImage=function(a){this.imagePath=a,this.image=document.createElement("img");var b=this;return this.image.addEventListener("load",function(){b.load()}),this.image.src=a,this},c.exports=f}),define("harbors/lib/tools/inherit",[],function(a,b,c){c.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}});
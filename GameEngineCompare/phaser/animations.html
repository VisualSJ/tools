<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <title>Phaser Examples</title>
    <script src="build/phaser.min.js" type="text/javascript"></script>
</head>
<body>

<div id="phaser-example"></div>
<div id="fps"></div>

<script>
    var renderMode = (location.search && location.search.toLowerCase().indexOf("webgl") > -1)?Phaser.WEBGL:Phaser.CANVAS;
    var game = new Phaser.Game(2000, 2000, renderMode, 'phaser-example', { preload: preload, create: create, update: update });

    function preload() {

        game.load.spritesheet('fish', '../resources/anim1.png', 50, 26, 3);

    }

    function create() {
        //  This creates a simple sprite that is using our loaded image and
        //  displays it on-screen
        var a = 40;
        var b = 80;
        for(var i=0;i<a*b;i++){
            var x = (i % a) * 50;
            var y = (i / a | 0) * 25;
            var tmp = game.add.group();
            tmp.create(x, y, 'fish');
            game.add.tween(tmp).to({y: 180}, 5000, null, true, Number.MAX_VALUE, true);
        }

    }

    var _fps = document.getElementById('fps');
    var timeout = 0;
    var fps = 0;

    function animationLooped(sprite, animation) {



    }

    function update(){
        if (game.time.time > timeout) {
            _fps.innerHTML = fps;

            fps = 0;
            timeout = game.time.time + 1000;
        }else{
            fps++;
        }
    }
</script>
</body>
</html>
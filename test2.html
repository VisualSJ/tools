<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
    <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <style>
        td{text-align: center;}
    </style>
</head>
<body>

<table>
    <thead>
    <tr>
        <td>网络</td>
        <td>纬度</td>
        <td>经度</td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td id="networkType">unknown</td>
        <td id="longitude"></td>
        <td id="latitude"></td>
    </tr>
    </tbody>
</table>

<button onclick="拍照();">
    拍照
</button>
<button onclick="预览();">
    预览
</button>
<button onclick="定位();">
    定位
</button>
<button onclick="位置();">
    位置
</button>

</body>
</html>
<script>

    wx.config({
        debug: true, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。
        appId: 'wxf31e055f452b5c1c', // 必填，公众号的唯一标识
        timestamp: '1420862101', // 必填，生成签名的时间戳
        nonceStr: 'p89erol6cac3di', // 必填，生成签名的随机串
        signature: '11378fa84cb5cdb725ebdcf4434e28d97024be7e',// 必填，签名，见附录1
        jsApiList: [
            "onMenuShareTimeline",
            "onMenuShareAppMessage",
            "onMenuShareQQ",
            "onMenuShareWeibo",
            "startRecord",
            "stopRecord",
            "onVoiceRecordEnd",
            "playVoice",
            "pauseVoice",
            "stopVoice",
            "onVoicePlayEnd",
            "uploadVoice",
            "downloadVoice",
            "chooseImage",
            "previewImage",
            "uploadImage",
            "downloadImage",
            "translateVoice",
            "getNetworkType",
            "openLocation",
            "getLocation",
            "hideOptionMenu",
            "showOptionMenu",
            "hideMenuItems",
            "showMenuItems",
            "hideAllNonBaseMenuItem",
            "showAllNonBaseMenuItem",
            "closeWindow",
            "scanQRCode",
            "chooseWXPay",
            "openProductSpecificView",
            "addCard",
            "chooseCard",
            "openCard"
        ] // 必填，需要使用的JS接口列表，所有JS接口列表见附录2
    });

    wx.ready(function(){
        console.log("success");

        wx.onMenuShareTimeline({
            title: '测试', // 分享标题
            link: 'www.itharbors.com', // 分享链接
            imgUrl: '', // 分享图标
            success: function () {
                alert("1");
                // 用户确认分享后执行的回调函数
            },
            cancel: function () {
                alert("2");
                // 用户取消分享后执行的回调函数
            }
        });

        wx.getNetworkType({
            success: function (res) {
                var networkType = res.networkType; // 返回网络类型2g，3g，4g，wifi
                document.getElementById("networkType").innerHTML = networkType;
            }
        });

        //wx.hideOptionMenu();
        //wx.showOptionMenu();
    });

    wx.error(function(res){
        console.log("success");
        // config信息验证失败会执行error函数，如签名过期导致验证失败，具体错误信息可以打开config的debug模式查看，也可以在返回的res参数中查看，对于SPA可以在这里更新签名。

    });

    var 拍照 = function(){
        wx.chooseImage({
            success: function (res) {
                var localIds = res.localIds; // 返回选定照片的本地ID列表，localId可以作为img标签的src属性显示图片
            }
        });
    };

    var 预览 = function(){
        wx.previewImage({
            current: 'http://code.itharbors.com/images/logo.png', // 当前显示的图片链接
            urls: [] // 需要预览的图片链接列表
        });
    };

    var 定位 = function(){

        wx.getLocation({
            timestamp: 0, // 位置签名时间戳，仅当需要兼容6.0.2版本之前时提供
            nonceStr: '', // 位置签名随机串，仅当需要兼容6.0.2版本之前时提供
            addrSign: '', // 位置签名，仅当需要兼容6.0.2版本之前时提供，详见附录4
            success: function (res) {
                var longitude = res.longitude; // 纬度，浮点数，范围为90 ~ -90
                var latitude = res.latitude; // 经度，浮点数，范围为180 ~ -180。
                var speed = res.speed; // 速度，以米/每秒计
                var accuracy = res.accuracy; // 位置精度
                document.getElementById("longitude").innerHTML = longitude;
                document.getElementById("latitude").innerHTML = latitude;
            }
        });
    };

    var 位置 = function(){
        wx.openLocation({
            latitude: 24.498697, // 纬度，浮点数，范围为90 ~ -90
            longitude: 118.19987, // 经度，浮点数，范围为180 ~ -180。
            name: '', // 位置名
            address: '', // 地址详情说明
            scale: 1, // 地图缩放级别,整形值,范围从1~28。默认为最大
            infoUrl: '' // 在查看位置界面底部显示的超链接,可点击跳转
        });
    };


</script>